<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>TNHB 360 Virtual Tour</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.css"/>
  <script src="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.js"></script>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
    }

    #viewer {
      width: 100vw;
      height: 100vh;
      opacity: 1;
      transition: opacity 0.5s ease;
    }

    .pnlm-loading-box {
      display: none !important;
    }

    #sidebar {
      position: absolute;
      top: 0;
      left: 0;
      width: 200px;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.75);
      color: #fff;
      z-index: 9999;
      padding-top: 10px;
      overflow-y: auto;
      transition: left 0.3s ease;
    }

    #sidebar.collapsed {
      left: -220px;
    }

    #sidebar h3 {
      margin: 10px;
      font-size: 16px;
      text-align: center;
      border-bottom: 1px solid #555;
      padding-bottom: 5px;
    }

    #sidebar ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    #sidebar li {
      padding: 10px;
      cursor: pointer;
      border-bottom: 1px solid #444;
    }

    #sidebar li:hover {
      background-color: #555;
    }

    #toggleButton {
      position: absolute;
      top: 10px;
      left: 210px;
      z-index: 10000;
      background-color: #333;
      color: #fff;
      border: none;
      padding: 8px 12px;
      cursor: pointer;
      font-size: 18px;
      border-radius: 4px;
      transition: left 0.3s ease;
    }

    #toggleButton.collapsed {
      left: 10px;
    }

    .custom-icon {
      background-image: url("1.png");
      background-size: cover;
      width: 75px;
      height: 75px;
      border-radius: 50%;
    }

    .pnlm-context-menu {
      display: none !important;
    }
  </style>
</head>
<body>
  <div id="viewer"></div>

  <div id="sidebar" class="collapsed">
    <h3>Scene List</h3>
    <ul>
      <li onclick="switchScene('Outdoor_1')">Outdoor 1</li>
      <li onclick="switchScene('Outdoor_2')">Outdoor 2</li>
      <li onclick="switchScene('Outdoor_3')">Outdoor 3</li>
      <li onclick="switchScene('Outdoor_4')">Outdoor 4</li>
      <li onclick="switchScene('Outdoor_5')">Outdoor 5</li>
      <li onclick="switchScene('Outdoor_6')">Outdoor 6</li>
      <li onclick="switchScene('Lift')">Lift</li>
      <li onclick="switchScene('Corridor_1')">Corridor 1</li>
      <li onclick="switchScene('Corridor_2')">Corridor 2</li>
      <li onclick="switchScene('L_Hall')">Living Hall</li>
      <li onclick="switchScene('L_Bed_1_1')">Bedroom 1 - View 1</li>
      <li onclick="switchScene('L_Bed_1_2')">Bedroom 1 - View 2</li>
      <li onclick="switchScene('L_Bathroom_1')">Bathroom 1</li>
      <li onclick="switchScene('L_Kitchen')">Kitchen</li>
      <li onclick="switchScene('L_Utility')">Utility Room</li>
      <li onclick="switchScene('L_Bed_2_1')">Bedroom 2 - View 1</li>
      <li onclick="switchScene('L_Bedroom_2_2')">Bedroom 2 - View 2</li>
      <li onclick="switchScene('L_Bathroom_2')">Bathroom 2</li>
    </ul>
  </div>

  <button id="toggleButton" class="collapsed" onclick="toggleSidebar()">☰</button>

  <script>
    let viewer;

    function switchScene(sceneId) {
      const viewerElement = document.getElementById('viewer');
      viewerElement.style.opacity = 0;

      setTimeout(() => {
        viewer.loadScene(sceneId);
        setTimeout(() => {
          viewerElement.style.opacity = 1;
        }, 100);
      }, 300);
    }

    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      const button = document.getElementById('toggleButton');
      sidebar.classList.toggle('collapsed');
      button.classList.toggle('collapsed');
      button.textContent = sidebar.classList.contains('collapsed') ? '☰' : '×';
    }

    viewer = pannellum.viewer('viewer', {
      "default": {
        "firstScene": "Outdoor_1",
        "sceneFadeDuration": 1000,
        "autoLoad": true
      },
      "scenes": {
        "Outdoor_1": {
          "title": "Outdoor 1",
          "panorama": "Outdoor_1.jpg",
          "yaw": 175,
          "pitch": 0,
          "hfov": 150,
          "hotSpots": [
            {
              "pitch": -4,
              "yaw": 175,
              "type": "scene",
              "text": "Go to Outdoor 2",
              "clickHandlerFunc": function () { switchScene("Outdoor_2"); },
              "cssClass": "custom-icon"
            }
          ]
        },
        "Outdoor_2": {
          "title": "Outdoor 2",
          "panorama": "Outdoor_2.jpg",
          "yaw": 325,
          "pitch": 0,
          "hfov": 150,
          "hotSpots": [
            {
              "pitch": -7,
              "yaw": -27,
              "type": "scene",
              "text": "Go to Outdoor 3",
              "clickHandlerFunc": function () { switchScene("Outdoor_3"); },
              "cssClass": "custom-icon"
            },
            {
              "pitch": -4,
              "yaw": 134,
              "type": "scene",
              "text": "Back to Outdoor 1",
              "clickHandlerFunc": function () { switchScene("Outdoor_1"); },
              "cssClass": "custom-icon"
            }
          ]
        },
        "Outdoor_3": {
          "title": "Outdoor 3",
          "panorama": "Outdoor_3.jpg",
          "yaw": 225,
          "pitch": 0,
          "hfov": 150,
          "hotSpots": [
            {
              "pitch": -7,
              "yaw": -132,
              "type": "scene",
              "text": "Go to Outdoor 4",
              "clickHandlerFunc": function () { switchScene("Outdoor_4"); },
              "cssClass": "custom-icon"
            },
            {
              "pitch": -6,
              "yaw": 60,
              "type": "scene",
              "text": "Back to Outdoor 2",
              "clickHandlerFunc": function () { switchScene("Outdoor_2"); },
              "cssClass": "custom-icon"
            }
          ]
        },
        "Outdoor_4": {
          "title": "Outdoor 4",
          "panorama": "Outdoor_4.jpg",
          "yaw": 221,
          "pitch": 0,
          "hfov": 150,
          "hotSpots": [
            {
              "pitch": -16,
              "yaw": -110,
              "type": "scene",
              "text": "Go to Outdoor 5",
              "clickHandlerFunc": function () { switchScene("Outdoor_5"); },
              "cssClass": "custom-icon"
            },
            {
              "pitch": -5,
              "yaw": 133,
              "type": "scene",
              "text": "Back to Outdoor 3",
              "clickHandlerFunc": function () { switchScene("Outdoor_3"); },
              "cssClass": "custom-icon"
            }
          ]
        },
        "Outdoor_5": {
          "title": "Outdoor 5",
          "panorama": "Outdoor_5.jpg",
          "yaw": -11,
          "pitch": -10,
          "hfov": 150,
          "hotSpots": [
            {
              "pitch": -17,
              "yaw": -7,
              "type": "scene",
              "text": "Go to Outdoor 6",
              "clickHandlerFunc": function () { switchScene("Outdoor_6"); },
              "cssClass": "custom-icon"
            },
            {
              "pitch": -10,
              "yaw": -168,
              "type": "scene",
              "text": "Back to Outdoor 4",
              "clickHandlerFunc": function () { switchScene("Outdoor_4"); },
              "cssClass": "custom-icon"
            }
          ]
        },
        "Outdoor_6": {
          "title": "Outdoor 6",
          "panorama": "Outdoor_6.jpg",
          "yaw": 59,
          "pitch": 0,
          "hfov": 150,
          "hotSpots": [
            {
              "pitch": -17,
              "yaw": 76,
              "type": "scene",
              "text": "Go to Lift",
              "clickHandlerFunc": function () { switchScene("Lift"); },
              "cssClass": "custom-icon"
            },
            {
              "pitch": -16,
              "yaw": -107,
              "type": "scene",
              "text": "Back to Outdoor 5",
              "clickHandlerFunc": function () { switchScene("Outdoor_5"); },
              "cssClass": "custom-icon"
            }
          ]
        },
        "Lift": {
          "title": "Lift",
          "panorama": "Lift.jpg",
          "yaw": 24,
          "pitch": -16,
          "hfov": 150,
          "hotSpots": [
            {
              "pitch": -37,
              "yaw": 22,
              "type": "scene",
              "text": "Go to Corridor 1",
              "clickHandlerFunc": function () { switchScene("Corridor_1"); },
              "cssClass": "custom-icon"
            },
            {
              "pitch": -52,
              "yaw": -155,
              "type": "scene",
              "text": "Back to Outdoor 6",
              "clickHandlerFunc": function () { switchScene("Outdoor_6"); },
              "cssClass": "custom-icon"
            }
          ]
        },
        "Corridor_1": {
          "title": "Corridor 1",
          "panorama": "Corridor_1.jpg",
          "yaw": -5,
          "pitch": -5,
          "hfov": 150,
          "hotSpots": [
            {
              "pitch": -26,
              "yaw": -1,
              "type": "scene",
              "text": "Go to Corridor 2",
              "clickHandlerFunc": function () { switchScene("Corridor_2"); },
              "cssClass": "custom-icon"
            },
            {
              "pitch": -34,
              "yaw": -93,
              "type": "scene",
              "text": "Back to Lift",
              "clickHandlerFunc": function () { switchScene("Lift"); },
              "cssClass": "custom-icon"
            }
          ]
        },
        "Corridor_2": {
          "title": "Corridor 2",
          "panorama": "Corridor_2.jpg",
          "yaw": -16,
          "pitch": -10,
          "hfov": 150,
          "hotSpots": [
            {
              "pitch": -26,
              "yaw": -26,
              "type": "scene",
              "text": "Go to Living Hall",
              "clickHandlerFunc": function () { switchScene("L_Hall"); },
              "cssClass": "custom-icon"
            },
            {
              "pitch": -25,
              "yaw": 72,
              "type": "scene",
              "text": "Back to Corridor 1",
              "clickHandlerFunc": function () { switchScene("Corridor_1"); },
              "cssClass": "custom-icon"
            }
          ]
        },
        "L_Hall": {
          "title": "Living Hall",
          "panorama": "L_Hall.jpg",
          "yaw": 87,
          "pitch": -10,
          "hfov": 150,
          "hotSpots": [
            { "pitch": -34, "yaw": -2, "type": "scene", "text": "Bedroom 1", "clickHandlerFunc": function () { switchScene("L_Bed_1_1"); }, "cssClass": "custom-icon" },
            { "pitch": -32, "yaw": 32, "type": "scene", "text": "Bathroom 1", "clickHandlerFunc": function () { switchScene("L_Bathroom_1"); }, "cssClass": "custom-icon" },
            { "pitch": -25, "yaw": 76, "type": "scene", "text": "Kitchen", "clickHandlerFunc": function () { switchScene("L_Kitchen"); }, "cssClass": "custom-icon" },
            { "pitch": -35, "yaw": 106, "type": "scene", "text": "Bedroom 2", "clickHandlerFunc": function () { switchScene("L_Bed_2_1"); }, "cssClass": "custom-icon" },
            { "pitch": -21, "yaw": -104, "type": "scene", "text": "Corridor 2", "clickHandlerFunc": function () { switchScene("Corridor_2"); }, "cssClass": "custom-icon" }
          ]
        },
        "L_Bed_1_1": {
          "title": "Bedroom 1 - View 1",
          "panorama": "L_Bed_1_1.jpg",
          "yaw": 130,
          "pitch": -7,
          "hfov": 150,
          "hotSpots": [
            { "pitch": -32, "yaw": 139, "type": "scene", "text": "View 2", "clickHandlerFunc": function () { switchScene("L_Bed_1_2"); }, "cssClass": "custom-icon" },
            { "pitch": -34, "yaw": -1, "type": "scene", "text": "Back to Hall", "clickHandlerFunc": function () { switchScene("L_Hall"); }, "cssClass": "custom-icon" }
          ]
        },
        "L_Bed_1_2": {
          "title": "Bedroom 1 - View 2",
          "panorama": "L_Bed_1_2.jpg",
          "yaw": 166,
          "pitch": -10,
          "hfov": 150,
          "hotSpots": [
            { "pitch": -37, "yaw": 165, "type": "scene", "text": "Back to View 1", "clickHandlerFunc": function () { switchScene("L_Bed_1_1"); }, "cssClass": "custom-icon" }
          ]
        },
        "L_Bathroom_1": {
          "title": "Bathroom 1",
          "panorama": "L_Bathroom_1.jpg",
          "yaw": 180,
          "pitch": -1,
          "hfov": 150,
          "hotSpots": [
            { "pitch": -31, "yaw": 21, "type": "scene", "text": "Back to Hall", "clickHandlerFunc": function () { switchScene("L_Hall"); }, "cssClass": "custom-icon" }
          ]
        },
        "L_Kitchen": {
          "title": "Kitchen",
          "panorama": "L_Kitchen.jpg",
          "yaw": -12,
          "pitch": 0,
          "hfov": 150,
          "hotSpots": [
            { "pitch": -29, "yaw": -97, "type": "scene", "text": "Utility", "clickHandlerFunc": function () { switchScene("L_Utility"); }, "cssClass": "custom-icon" },
            { "pitch": -23, "yaw": 153, "type": "scene", "text": "Back to Hall", "clickHandlerFunc": function () { switchScene("L_Hall"); }, "cssClass": "custom-icon" }
          ]
        },
        "L_Utility": {
          "title": "Utility Room",
          "panorama": "L_Utility.jpg",
          "yaw": 0,
          "pitch": 0,
          "hfov": 150,
          "hotSpots": [
            { "pitch": -32, "yaw": 100, "type": "scene", "text": "Back to Kitchen", "clickHandlerFunc": function () { switchScene("L_Kitchen"); }, "cssClass": "custom-icon" }
          ]
        },
        "L_Bed_2_1": {
          "title": "Bedroom 2 - View 1",
          "panorama": "L_Bed_2_1.jpg",
          "yaw": 195,
          "pitch": -10,
          "hfov": 150,
          "hotSpots": [
            {
              "pitch": -38,
              "yaw": -160,
              "type": "scene",
              "text": "View 2",
              "clickHandlerFunc": function () { switchScene("L_Bedroom_2_2"); },
              "cssClass": "custom-icon"
            },
            {
              "pitch": -26,
              "yaw": -9,
              "type": "scene",
              "text": "Back to Hall",
              "clickHandlerFunc": function () { switchScene("L_Hall"); },
              "cssClass": "custom-icon"
            }
          ]
        },
        "L_Bedroom_2_2": {
          "title": "Bedroom 2 - View 2",
          "panorama": "L_Bed_2_2.jpg",
          "yaw": -15,
          "pitch": -10,
          "hfov": 150,
          "hotSpots": [
            {
              "pitch": -30,
              "yaw": -19,
              "type": "scene",
              "text": "Bathroom 2",
              "clickHandlerFunc": function () { switchScene("L_Bathroom_2"); },
              "cssClass": "custom-icon"
            },
            {
              "pitch": -41,
              "yaw": 15,
              "type": "scene",
              "text": "Back to View 1",
              "clickHandlerFunc": function () { switchScene("L_Bed_2_1"); },
              "cssClass": "custom-icon"
            }
          ]
        },
        "L_Bathroom_2": {
          "title": "Bathroom 2",
          "panorama": "L_Bathroom_2.jpg",
          "yaw": 171,
          "pitch": 0,
          "hfov": 150,
          "hotSpots": [
            {
              "pitch": -32,
              "yaw": -121,
              "type": "scene",
              "text": "Back to Bedroom 2 - View 2",
              "clickHandlerFunc": function () { switchScene("L_Bedroom_2_2"); },
              "cssClass": "custom-icon"
            }
          ]
        }

      }
    });
  </script>
</body>
</html>
